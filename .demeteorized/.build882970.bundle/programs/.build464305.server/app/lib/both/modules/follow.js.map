{"version":3,"sources":["meteor://ðŸ’»app/lib/both/modules/follow.js"],"names":[],"mappings":";;;;;;;;AAAA,IAAI,0BAA0B,GAAG,UAAC,cAAc,EAAK;AACnD,QAAM,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,UAAS,EAAE,EAAC;AAClD,QAAG,EAAE,KAAK,cAAc,EAAC;AACvB,aAAO,KAAK;KACb;GACF,CAAC,CAAC;AACH,SAAO,IAAI,CAAC;CACb,CAAC;;AAEF,IAAI,WAAW,GAAG,UAAS,eAAe,EAAE,cAAc,EAAC;;AAEzD,MAAI,eAAe,IAAI,MAAM,CAAC,MAAM,EAAE,EAAC;AACrC,WAAO,KAAK,CAAC;GACd;AACD,MAAG,eAAe,KAAK,cAAc,IAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,EAAC;AACnF,WAAO,KAAK;GACb;AACD,QAAM,CAAC,IAAI,CAAC,YAAY,EAAE,eAAe,EAAE,cAAc,EAAE,UAAS,KAAK,EAAE,MAAM,EAAC;AAChF,QAAI,CAAC,KAAK,EAAC;AACT,YAAM,CAAC,IAAI,CAAC,0BAA0B,EAAC,eAAe,EAAE,cAAc,EAAE,UAAS,KAAK,EAAE,MAAM,EAAC;AAC7F,YAAI,KAAK,EAAC;AACR,iBAAO,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC;SAC9B;OACF,CAAC,CAAC;AACH,YAAM,CAAC,IAAI,CAAC,6BAA6B,EAAE,eAAe,EAAE,cAAc,CAAC,CAAC;KAC7E,MACG;AACF,aAAO,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC;KAC9B;GACF,CAAC;CACH,CAAC;;AAEF,IAAI,aAAa,GAAI,UAAS,eAAe,EAAE,cAAc,EAAC;AAC5D,MAAG,eAAe,KAAK,cAAc,EAAC;AACpC,WAAO,CAAC,GAAG,CAAC,kFAAkF,CAAC;AAC/F,WAAO,KAAK,CAAC;GACd;AACD,QAAM,CAAC,IAAI,CAAC,cAAc,EAAE,eAAe,EAAE,cAAc,EAAE,UAAS,KAAK,EAAE,MAAM,EAAC;AAClF,QAAI,CAAC,KAAK,EAAC;AACT,YAAM,CAAC,IAAI,CAAC,4BAA4B,EAAE,eAAe,EAAE,cAAc,EAAE,UAAS,KAAK,EAAC,MAAM,EAAC;AAC/F,YAAI,KAAK,EAAC;AACR,iBAAO,CAAC,GAAG,CAAC,OAAO,GAAE,KAAK,CAAC,CAAC;SAC7B;OACF,CAAC;KACH,MACG;AACF,aAAO,CAAC,GAAG,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC;KAC9B;GACF,CAAC,CAAC;CACJ,CAAC;;AAEF,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,WAAW,CAAC;AAC3C,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,GAAG,aAAa,CAAC,6B","file":"/lib/both/modules/follow.js","sourcesContent":["let _isMeteorUserCanFollowUser = (followedUserId) => {\n  Meteor.user().profile.following.forEach(function(id){\n    if(id === followedUserId){\n      return false\n    }\n  });\n  return true;\n};\n\nlet _followUser = function(followingUserId, followedUserId){\n  // security check:\n  if (followingUserId != Meteor.userId()){\n    return false;\n  }\n  if(followingUserId === followedUserId || !_isMeteorUserCanFollowUser(followedUserId)){\n    return false\n  }\n  Meteor.call('followUser', followingUserId, followedUserId, function(error, result){\n    if (!error){\n      Meteor.call('updateFollowedWithFollow',followingUserId, followedUserId, function(error, result){\n        if (error){\n          console.log(\"Error\" + error);\n        }\n      });\n      Meteor.call('_addRecentDotzWhenFollowing', followingUserId, followedUserId);\n    }\n    else{\n      console.log(\"Error\" + error);\n    }\n  })\n};\n\nlet _unFollowUser =  function(followingUserId, followedUserId){\n  if(followingUserId === followedUserId){\n    console.log(\"_unFollowUser : _isMeteorUserCanFollowUser returned false !@#!@#!@#!@#!@#!@#!@#2\")\n    return false;\n  }\n  Meteor.call('unFollowUser', followingUserId, followedUserId, function(error, result){\n    if (!error){\n      Meteor.call('updateFollowedWithUnFollow', followingUserId, followedUserId, function(error,result){\n        if (error){\n          console.log(\"Error\"+ error);\n        }\n      })\n    }\n    else{\n      console.log(\"Error\" + error);\n    }\n  });\n};\n\nModules.both.Dotz.followUser = _followUser;\nModules.both.Dotz.unFollowUser = _unFollowUser;\n"]}