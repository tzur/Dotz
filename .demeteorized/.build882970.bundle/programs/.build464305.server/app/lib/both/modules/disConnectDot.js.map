{"version":3,"sources":["meteor://ðŸ’»app/lib/both/modules/disConnectDot.js"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,CAAC,OAAO,CAAC;AACb,eAAa,YAAC,QAAQ,EAAC;AACrB,SAAK,CAAC,QAAQ,EAAE,MAAM,CAAC,WAAW,CAAC,CAAC;AACpC,QAAI,QAAQ,CAAC,UAAU,CAAC,iBAAiB,IAAI,MAAM,CAAC,MAAM,EAAE,EAAG;AAC7D,aAAO,KAAK;KACb;AACD,QAAI,MAAM,CAAC,QAAQ,EAAC;AAClB,YAAM,CAAC,IAAI,CAAC,+BAA+B,EAAE,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,UAAS,KAAK,EAAC,MAAM,EAAC;AAClH,YAAI,CAAC,KAAK,EAAC;AACT,cAAI,CAAC,KAAK,CAAE,cAAc,EAAE,SAAS,EAAE,mBAAmB,CAAE,CAAC;SAC9D,MACI;AACH,iBAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,KAAK,CAAC,CAAC;SAC7D;OACF,CAAC,CAAC;KACJ,MACI;;;AACH,YAAI,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa,CAAC,CAAC,WAAW,CAAC;;AAElF,cAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;;;AAG7G,cAAI,CAAC,KAAK,EAAE;AACV,kBAAM,CAAC,IAAI,CAAC,0BAA0B,EACpC,MAAM,CAAC,MAAM,EAAE,EAAE,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,eAAe,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;;AAE9G,kBAAI,CAAC,KAAK,EAAE;AACV,sBAAM,CAAC,IAAI,CAAC,+BAA+B,EAAE,QAAQ,CAAC,GAAG,EAAE,QAAQ,CAAC,UAAU,CAAC,aAAa,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;AACrH,sBAAI,KAAK,EAAE;AACT,2BAAO,CAAC,GAAG,CAAC,sCAAsC,GAAG,KAAK,CAAC,CAAC;mBAC7D;iBACF,CAAC,CAAC;eACJ,MACI;AACH,uBAAO,CAAC,GAAG,CAAC,oCAAoC,GAAG,KAAK,CAAC,CAAC;eAC3D;aACF,CAAC;WACL,MACI;AACH,mBAAO,CAAC,GAAG,CAAC,6BAA6B,GAAG,KAAK,CAAC,CAAC;WACpD;SACF,CAAC,CAAC;;KACJ;GACF;CACF,CAAC,CAAC,sE","file":"/lib/both/modules/disConnectDot.js","sourcesContent":["Meteor.methods({\n  disConnectDot(smartRef){\n    check(smartRef, Schema.dotSmartRef);\n    if (smartRef.connection.connectedByUserId != Meteor.userId() ) {\n      return false\n    }\n    if (Meteor.isClient){\n      Meteor.call('pullDotFromDotzConnectedArray', smartRef.dot, smartRef.connection.toParentDotId, function(error,result){\n        if (!error){\n          Bert.alert( 'Disconnected', 'warning', 'growl-bottom-left' );\n        }\n        else {\n          console.log(\"pullDotFromDotzConnectedArray Error \" + error);\n        }\n      });\n    }\n    else { //Server\n      let belongsToUserId = Dotz.findOne(smartRef.connection.toParentDotId).ownerUserId;\n      //pull from inDotz:\n      Meteor.call('pullDotFromInDotz', smartRef.dot._id, smartRef.connection.toParentDotId, function (error, result) {\n        //pull from User Connections Counter:\n        //params: connectedUserId, dotId, belongsToUserId, parentDotId\n        if (!error) {\n          Meteor.call('pullFromUserConnectivity',\n            Meteor.userId(), smartRef.dot._id, belongsToUserId, smartRef.connection.toParentDotId, function (error, result) {\n              //pull the smartRef from the connectDotzArray:\n              if (!error) {\n                Meteor.call('pullDotFromDotzConnectedArray', smartRef.dot, smartRef.connection.toParentDotId, function (error, result) {\n                  if (error) {\n                    console.log(\"pullDotFromDotzConnectedArray Error \" + error);\n                  }\n                });\n              }\n              else {\n                console.log(\"pullFromUserConnectivity >> Error \" + error);\n              }\n            })\n        }\n        else {\n          console.log(\"pullDotFromInDotz >> Error \" + error);\n        }\n      });\n    }\n  }\n});\n\n"]}