{"version":3,"sources":["meteor://ðŸ’»app/lib/collections/users.js"],"names":[],"mappings":"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","file":"/lib/collections/users.js","sourcesContent":["/*\n * Users Schema:\n */\n\n//allow+deny >>>> TBD!!!!\n\nMeteor.users.allow({\n  insert: () => false,\n  //update: function (userId, doc, fields, modifier) {\n  //  // can only change your own documents\n  //  //console.log(\"this is the user id##########################\" + userId);\n  //  return doc._id === userId;\n  //},\n  update: () => false,\n  remove: () => false\n});\n\nMeteor.users.deny({\n  insert: () => true,\n  update: () => true,\n  remove: () => true\n});\n\n\nlet userProfile = new SimpleSchema({\n\n  //User - basic info:\n  userSlug: {\n    type: String,\n    index: 1,\n    unique: true,\n    label: \"userSlug\",\n    optional: true\n  },\n  userType: {\n    type: String,\n    optional: true,\n    defaultValue: \"User\",\n    allowedValues: ['User', 'Hotel', 'Business', 'Guide', 'ContentMaker'],\n    label: \"userType\"\n  },\n  userSearchType: {\n    type: String,\n    optional: true,\n    allowedValues: ['top', 'md', 'hidden'],\n    label: \"userSearchType\"\n  },\n\n  description: {\n    type: String,\n    label: \"Description\",\n    defaultValue: \" \",\n    optional: true\n  },\n  shareDotId: {\n    type: String,\n    optional: true, //TBD\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  profileDotId:{\n    type: String,\n    label: \"Profile Dot Id\",\n    optional: true, //TBD\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  createdByUserDotz:{\n    type:[String],\n    label: \"Created By User Dotz\",\n    optional: true,\n    defaultValue: [], //TBD\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  createdByUserLists:{\n    type:[String],\n    label: \"Created By User Lists\",\n    optional: true,\n    defaultValue: [], //TBD\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  userConnections:{\n    type:[Object],\n    blackbox:true,\n    label: \"User Connections\",\n    optional: true,\n    defaultValue: [], //TBD\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n\n  //User Images:\n  profileImage:{\n    type: String,\n    label: \"Profile Image\",\n    defaultValue: \"https://dotz-deployment.s3.amazonaws.com/LbioLJaWMBKnqbtrm/dotz-user-avatar.png\", //TBD\n    //optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  coverImage:{\n    type: String,\n    label: \"Cover Image\",\n    defaultValue: \"https://dotz-deployment.s3.amazonaws.com/qFpzRxMf3RdQjcmJt/dotz_new_cover.jpg\", //TBD\n    //optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  userImagesUrls:{\n    type: [String],\n    optional: true,\n    defaultValue: [],\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n\n  //User Links and Location:\n\n  location: {\n    type: Schema.location,\n    optional: true\n  },\n\n  userAddress:{\n    type: String,\n    label: \"Home Address\",\n    optional: true\n  },\n\n  userAddressLatLng:{\n    type: [Number],\n    decimal:true,\n    optional: true\n  },\n\n  userAddressPlaceId:{\n    type: String,\n    optional: true\n  },\n\n  userAddressName:{\n    type: String,\n    optional: true\n  },\n\n  websiteUrl:{\n    type: String,\n    label: \"Website\",\n    optional: true,\n    defaultValue: \"\"\n  },\n  facebookAccountUrl:{\n    type: String,\n    label: \"Facebook\",\n    optional: true\n  },\n  twitterAccountUrl:{\n    type: String,\n    label: \"Twitter\",\n    optional: true\n  },\n  googleAccountUrl:{\n    type: String,\n    label: \"Google\",\n    optional: true\n  },\n  pinterestAccountUrl:{\n    type: String,\n    label: \"Pinterest\",\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  tripAdvisorAccountUrl:{\n    type: String,\n    label: \"Pinterest\",\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  foursquareAccountUrl:{\n    type: String,\n    label: \"Pinterest\",\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  spareAccountsUrlArray:{\n    type: [String],\n    label: \"Pinterest\",\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n\n  //User feed and following/followers\n  following:{\n    type: [String],\n    optional: true,\n    defaultValue: [], //TBD\n    autoform:{\n      type:\"hidden\",\n      label: false\n    }\n  },\n  followers:{\n    type: [String],\n    optional: true,\n    defaultValue: [], //TBD\n    autoform:{\n      type:\"hidden\",\n      label: false\n    }\n  },\n  feedDotz:{\n    type: [Object],\n    blackbox: true,\n    optional: true,\n    autoform:{\n      type:\"hidden\",\n      label: false\n    }\n  },\n\n  //info Fields:\n  userContext: {\n    type: [String],\n    defaultValue: [], //TBD\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n  userInfo: {\n    type: [String],\n    defaultValue: [], //TBD\n    optional: true,\n    autoform: {\n      type: \"hidden\",\n      label: false\n    }\n  },\n\n  //Search fields:\n  searchInfo:{\n    type: [Object],\n    defaultValue: [], //TBD\n    blackbox: true,\n    optional: true,\n    autoform:{\n      type:\"hidden\",\n      label: false\n    }\n  },\n\n  //Flexible object :)\n  moreInfo:{\n      type: Object,\n    defaultValue: {}, //TBD\n    blackbox: true,\n      optional: true,\n      autoform:{\n        type:\"hidden\",\n        label: false\n      }\n  }\n\n});\n\n//TBD: especially the \"blackBox\" and the roles (and the username >> Regex..?)\nlet user = new SimpleSchema({\n  username: {\n    type: String,\n    // For accounts-password, either emails or username is required, but not both. It is OK to make this\n    // optional here because the accounts-password package does its own validation.\n    // Third-party login packages may not require either. Adjust this schema as necessary for your usage.\n    optional: true\n  },\n  emails: {\n    type: Array,\n    // For accounts-password, either emails or username is required, but not both. It is OK to make this\n    // optional here because the accounts-password package does its own validation.\n    // Third-party login packages may not require either. Adjust this schema as necessary for your usage.\n    optional: true\n  },\n  \"emails.$\": {\n    type: Object\n  },\n  \"emails.$.address\": {\n    type: String,\n    regEx: SimpleSchema.RegEx.Email\n  },\n  \"emails.$.verified\": {\n    type: Boolean\n  },\n  createdAt: {\n    type: Date\n  },\n  profile: {\n    type: userProfile,\n    optional: true\n  },\n  // Make sure this services field is in your schema if you're using any of the accounts packages\n  services: {\n    type: Object,\n    optional: true,\n    blackbox: true\n  },\n  // Add `roles` to your schema if you use the meteor-roles package.\n  // Option 1: Object type\n  // If you specify that type as Object, you must also specify the\n  // `Roles.GLOBAL_GROUP` group whenever you add a user to a role.\n  // Example:\n  // Roles.addUsersToRoles(userId, [\"admin\"], Roles.GLOBAL_GROUP);\n  // You can't mix and match adding with and without a group since\n  // you will fail validation in some cases.\n  roles: {\n    type: Object,\n    optional: true,\n    blackbox: true\n  }\n  //// Option 2: [String] type\n  //// If you are sure you will never need to use role groups, then\n  //// you can specify [String] as the type\n  //roles: {\n  //  type: [String],\n  //  optional: true\n  //}\n});\n\nMeteor.users.attachSchema(user);\n"]}