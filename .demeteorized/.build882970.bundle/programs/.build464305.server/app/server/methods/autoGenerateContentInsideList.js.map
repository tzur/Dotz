{"version":3,"sources":["meteor://ðŸ’»app/server/methods/autoGenerateContentInsideList.js"],"names":[],"mappings":";;;;;;;;;;;AAGA,MAAM,CAAC,OAAO,CAAC;;AAEb,+BAA6B,YAAC,gBAAgB,EAAE,SAAS,EAAC;AACxD,SAAK,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;AAChC,SAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;AACzB,QAAI,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;AAC1C,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AAClB,QAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAS,QAAQ,EAAC;AAChD,UAAI,WAAW,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,EAAE,QAAQ,CAAC,GAAG,CAAC,WAAW,EACzE,SAAS,EAAE,cAAc,EAAE,MAAM,CAAC,MAAM,EAAE,CAAC,CAAC;AAC9D,aAAO,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;AAGzB,YAAM,CAAC,IAAI,CAAC,YAAY,EAAE,WAAW,CAAE,CAAC;KACzC,CAAC,CAAC;GACJ;;AAED,sBAAoB,YAAC,mBAAmB,EAAE;AACxC,SAAK,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;AACnC,QAAI,oBAAoB,GAAG,EAAE,CAAC;AAC9B,QAAI,sBAAsB,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,mBAAmB,EAAC,CAAC,CAAC,OAAO,CAAC,YAAY,CAAC;AACxG,WAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;AACnC,QAAG,oBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,EAAC;AAC7D,aAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC;AACrC,aAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC;AACjC,0BAAoB,CAAC,kBAAkB,CAAC,OAAO,CAAC,UAAU,QAAQ,EAAE;AAClE,YAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACzC,YAAI,MAAM,GAAG;AACX,eAAK,EAAE,GAAG,CAAC,KAAK;AAChB,qBAAW,EAAE,MAAM,CAAC,MAAM,EAAE;AAC5B,iBAAO,EAAE,GAAG,CAAC,OAAO;AACpB,uBAAa,EAAE,IAAI,IAAI,EAAE;AACzB,uBAAa,EAAE,GAAG,CAAC,aAAa;AAChC,gBAAM,EAAE,KAAK;AACb,gBAAM,EAAE,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,YAAY,CAAC;AAC5C,0BAAgB,EAAE,GAAG,CAAC,GAAG;SAC1B,CAAC;;AAEF,cAAM,CAAC,IAAI,CAAC,WAAW,EAAE,MAAM,EAAE,UAAU,KAAK,EAAE,MAAM,EAAE;AACxD,cAAI,KAAK,EAAE;AACT,mBAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;WAC3C;SACF,CAAC;OAEH,CAAC;KAEH;GAEF;;CAEF,CAAC,CAAC,sE","file":"/server/methods/autoGenerateContentInsideList.js","sourcesContent":["/**\n * Created by avivhatzir on 30/11/2015.\n */\nMeteor.methods({\n\n  autoGenerateContentInsideList(quickStartListId, parentDot){\n    check(quickStartListId, String);\n    check(parentDot, String);\n    let list = Dotz.findOne(quickStartListId);\n    console.log(list);\n    list.connectedDotzArray.forEach(function(smartRef){\n      let newSmartRef = new Modules.both.Dotz.smartRef(smartRef.dot._id, smartRef.dot.ownerUserId,\n                        parentDot, CONNECT_ACTION, Meteor.userId());\n      console.log(newSmartRef);\n\n\n      Meteor.call('connectDot',(newSmartRef));\n    });\n  },\n\n  autoGenerateNewLists(sampleHotelUserName) {\n    check(sampleHotelUserName, String);\n    let sampleUserProfileDot = [];\n    let sampleUserProfileDotId = Meteor.users.findOne({username: sampleHotelUserName}).profile.profileDotId;\n    console.log(sampleUserProfileDotId)\n    if(sampleUserProfileDot = Dotz.findOne(sampleUserProfileDotId)){\n      console.log(\"######################\")\n      console.log(sampleUserProfileDot)\n      sampleUserProfileDot.connectedDotzArray.forEach(function (smartRef) {\n        let dot = Dotz.findOne(smartRef.dot._id);\n        let newDoc = {\n          title: dot.title,\n          ownerUserId: Meteor.userId(),\n          dotType: dot.dotType,\n          createdAtDate: new Date(),\n          coverImageUrl: dot.coverImageUrl,\n          isOpen: false,\n          inDotz: [Meteor.user().profile.profileDotId],\n          quickStartListId: dot._id\n        };\n\n        Meteor.call('createDot', newDoc, function (error, result) {\n          if (error) {\n            console.log('Auto generate Lists failed');\n          }\n        })\n\n      })\n\n    }\n\n  }\n\n});\n"]}