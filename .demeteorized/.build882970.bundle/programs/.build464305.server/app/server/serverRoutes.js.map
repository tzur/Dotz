{"version":3,"sources":["meteor://ðŸ’»app/server/serverRoutes.js"],"names":[],"mappings":";;;;;;;;;;;AAGA,IAAI,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAS,GAAG,EAAE,GAAG,EAAE;AAC/C,MAAI,SAAS,GAAG,EAAE,CAAC;AACnB,MAAI,MAAM,GAAG,GAAG,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;AACvC,WAAS,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AACnD,MAAG,MAAM,EAAC;AACR,aAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,qBAAqB,CAAC,IAAI,CAAC,CAAC,CAAC;AAC3D,aAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;AAC7C,aAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;AAClD,aAAS,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;GAClD;AACD,SAAO,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;CACrC,CAAC,CAAC;;AAEH,SAAS,CAAC,KAAK,CAAC,8BAA8B,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE,GAAG,EAAC;AACxE,MAAI,QAAQ,GAAG,MAAM,CAAC,QAAQ,GAAE,GAAG,GAAG,MAAM,CAAC,OAAO,GAAG,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC;AAC5E,SAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;AACvC,SAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,MAAI,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,EAAC,SAAS,EAAE,QAAQ,EAAC,CAAC,CAAC;AAC9C,SAAO,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACvB,MAAI,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,EAAC;AAChC,YAAQ,EAAC,YAAY;AACrB,QAAI,EAAE,EAAC,GAAG,EAAE,GAAG,EAAC;GACjB,CAAC,CAAC;AACH,KAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;CACf,CAAC,CAAC;AACH,SAAS,CAAC,KAAK,CAAC,YAAY,EAAE,UAAS,MAAM,EAAE,GAAG,EAAE,GAAG,EAAC;AACtD,SAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;AACxC,MAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC,kBAAkB,EAAE,MAAM,CAAC,QAAQ,EAAC,CAAC,CAAC;AACvE,SAAO,CAAC,GAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC3B,MAAI,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,WAAW,EAAC;AAChC,YAAQ,EAAC,aAAa;AACtB,QAAI,EAAE,EAAC,IAAI,EAAE,IAAI,EAAC;GACnB,CAAC,CAAC;AACH,KAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;CACf,CAAC,CAAC,sE","file":"/server/serverRoutes.js","sourcesContent":["\n// LINK TO MUHAMAD CONFIGURE FILE :https://forums.meteor.com/t/facebook-share-setup/12980\n\nvar seoPicker = Picker.filter(function(req, res) {\n  var isCrawler = [];\n  var string = req.headers['user-agent'];\n  isCrawler.push(/_escaped_fragment_/.test(req.url));\n  if(string){\n    isCrawler.push(string.indexOf('facebookexternalhit') >= 0);\n    isCrawler.push(string.indexOf('Slack') >= 0);\n    isCrawler.push(string.indexOf('Twitterbot') >= 0);\n    isCrawler.push(string.indexOf('Googlebot') >= 0);\n  }\n  return isCrawler.indexOf(true) >= 0;\n});\n //Indexing user pages\nseoPicker.route('/:userSlug/:dotType/:dotSlug', function(params, req, res){\n  var fullSlug = params.userSlug +'/' + params.dotType + '/' + params.dotSlug;\n  console.log(\"im heree SSR render DOT\");\n  console.log(fullSlug);\n  var dot = Dotz.findOne({\"dotSlug\": fullSlug});\n  console.log(dot.title);\n  var html = SSR.render('seoLayout',{\n    template:'seoDotShow',\n    data: {dot: dot}\n  });\n  res.end(html);\n});\nseoPicker.route('/:userSlug', function(params, req, res){\n  console.log(\"im heree SSR render USER\");\n  var user = Meteor.users.findOne({\"profile.userSlug\": params.userSlug});\n  console.log(user.username);\n  var html = SSR.render('seoLayout',{\n    template:'seoUserShow',\n    data: {user: user}\n  });\n  res.end(html);\n});\n"]}