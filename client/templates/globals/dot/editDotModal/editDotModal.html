<template name="editDotModal">
    <div class="modal fade">
        <div class="modal-dialog modal-md">
            <div class="modal-content ">

                <div class="modal-header">
                    <!--<h4 class="modal-title">Create New Dot:</h4>-->
                </div>
                <div class="modal-body">
                    <div class="container-fluid">
                        <div class="row">
                            <!--<div class="col-xs-12 col-md-5 colCenter">-->

                            <div class="row"><h1 class="txtMd">Edit Your Dot</h1></div>

                          {{#autoForm id="editDotForm" type="update" collection="Dotz" doc=selectedDotDoc}}

                              <!--<div>-->
                              <!--{{> afQuickField name='dotType' label="Dot Type"}}-->
                              <!--</div>-->

                              <div>
                                {{> afQuickField name='title' label="Title" placeholder="What is it?"}}
                              </div>

                              <div>
                                {{> afQuickField name='bodyText' label="Note" rows=4 placeholder="What makes it special?"}}
                              </div>


                              <div>

                                  <!-- Nav tabs -->
                                  <ul class="nav nav-tabs" role="tablist">
                                      <li role="presentation" class= "active"><a href="#image" aria-controls="image" role="tab" data-toggle="tab"><i class="fa fa-camera"></i> Image</a></li>
                                      <li id="mapTab" role="presentation"><a href="#location" aria-controls="location" role="tab" data-toggle="tab"><i class="fa fa-map-marker"></i> Location</a></li>
                                      <li role="presentation"><a href="#eventDetails" aria-controls="eventDetails" role="tab" data-toggle="tab"><i class="fa fa-calendar"></i> Date</a></li>
                                      <li role="presentation"><a href="#price" aria-controls="price" role="tab" data-toggle="tab"><i class="fa fa-dollar"></i> Price</a></li>
                                      <li role="presentation"><a href="#link" aria-controls="link" role="tab" data-toggle="tab"><i class="fa fa-link"></i> Link</a></li>
                                  </ul>

                                  <!-- Tab panes -->
                                  <div class="tab-content">

                                      <div role="tabpanel" class="tab-pane" id="location">

                                        {{#if mapTabActive}}
                                          {{> createDotMap}}
                                        {{/if}}


                                      </div>


                                      <div role="tabpanel" class="tab-pane" id="eventDetails">

                                          <div class="eventDetails-div optional-field in-tab-wrapper">

                                              <div type="bootstrap-datetimepicker" class="eventDetails row">
                                                  <div class="col-xs-6">{{> afQuickField name='startDateAndHour' placeholder="Pick Start Date"}}</div>
                                                  <div class="col-xs-6">{{> afQuickField name='endDateAndHour' placeholder="Pick End Date"}}</div>
                                              </div>

                                              <!--<div class="onoffswitch">-->
                                              <!--<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" data-toggle="collapse" href="#repeated">-->
                                              <!--<label class="onoffswitch-label" for="myonoffswitch"></label>-->
                                              <!--</div>-->

                                              <button id="repeated-btn" class="btn btn-default btn-sm round" href="#repeated" data-toggle="collapse">Repeated ?</button>

                                              <div id="repeated" class="collapse">
                                                  <div type="bootstrap-datetimepicker" class="eventDetails row">
                                                      <div class="col-xs-6">{{> afQuickField name='repeated' firstOption='None'}}</div>
                                                      <div class="col-xs-6">{{> afQuickField name='endRepeatedDate' placeholder="Pick Repeated End Date"}}</div>
                                                  </div>
                                              </div>


                                          </div>

                                      </div>

                                      <div role="tabpanel" class="tab-pane active" id="image">
                                          <div class="image optional-field">

                                            {{#if isImageUrl}}
                                                <div class="file container-fluid">
                                                    <div class="row">
                                                        <div class="dot-img-create-dot colCenter" style="background-image: url('{{imagePreviewUrl}}')"></div>
                                                    </div>
                                                </div>
                                            {{/if}}
                                              <div id="editDotImage">
                                                {{> uploader}}
                                              </div>

                                          </div>
                                      </div>

                                      <div role="tabpanel" class="tab-pane" id="link">
                                          <div class="location optional-field in-tab-wrapper">
                                            {{> afQuickField name='linkUrl' label="Link" placeholder="Ex: http://www.website.com"}}
                                          </div>
                                      </div>

                                      <div role="tabpanel" class="tab-pane" id="price">
                                          <div class="price optional-field in-tab-wrapper">
                                            {{> afQuickField name='price' label="Price" placeholder="US Dollars only..."}}
                                          </div>
                                      </div>

                                  </div>
                              </div>

                              <div>
                                  <div>
                                      <div class="col-xs-12 btns-create-dot-row">

                                          <div class="btns-create-dot">
                                              <button type="submit" id="submitEditDot" class="editDot btn btn-primary">Save changes</button>
                                          </div>

                                      </div>
                                  </div>
                              </div>

                          {{/autoForm}}
                        </div>


                        <!--</div>-->
                    </div>
                </div>


            </div>
        </div>
    </div>
</template>

