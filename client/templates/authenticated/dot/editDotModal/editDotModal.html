<template name="editDotModal">



{{#if isList}}
    <div class="modal fade" data-keyboard="false">
        <div class="modal-dialog modal-md">
            <div class="modal-content">


                <div id="create-dot-modal" class="container-fluid">

                    <div class="exit-btn">
                        <a href="#"><button class="btn round btn-delete btn-sm" id="exitBtn"><i class="fa fa-times"></i></button></a>
                    </div>

                    <div class="row">

                        <div class="modal-title col-xs-12 colCenter">

                            <div class="row">

                                <h3 class="txtMd">Edit List</h3>

                            </div>


                        </div>
                    </div>

                    <div class="row">

                        <div class="container-fluid colCenter" id="createListFields">
                          {{#autoForm id="editDotForm" collection="Dotz" schema=editDotSchema doc=selectedDotDoc type="method-update" meteormethod="updateDot"}}

                              <div class="listTitle container-fluid">

                                  <div class="col-xs-12 col-sm-3">
                                      <p><strong>Title:</strong></p>
                                  </div>

                                  <div class="col-xs-12 col-sm-9">
                                    {{> afQuickField id="editTitleField" name='title' label="Title" placeholder="Romantic Night Out / Hipster day in TLV / etc..."}}
                                      <div id="titleFieldFeedback"></div>
                                  </div>

                              </div>

                              <!--<hr>-->

                              <div class="listDescription container-fluid">

                                  <div class="col-xs-12 col-sm-3">
                                      <p><strong>Description:</strong></p>
                                  </div>

                                  <div class="col-xs-12 col-sm-9">
                                    {{> afQuickField name='bodyText' label="Description" rows=4 placeholder="What's your List about?"}}
                                  </div>

                              </div>

                              <!--<hr>-->

                              <div id="form-body">

                                  <div class="listImage container-fluid">

                                      <div class="col-xs-12 col-sm-3">
                                          <p><strong>Image:</strong></p>
                                      </div>

                                      <div class="col-xs-12 col-sm-9">
                                          <div class="container-fluid image-create-preview">
                                              <div class="image optional-field">

                                                {{#if isImageUrl}}
                                                    <div class="file container-fluid">
                                                        <div class="row">
                                                            <div class="dot-img-create-dot colCenter" style="background-image: url('{{imagePreviewUrl}}')"></div>
                                                        </div>
                                                    </div>
                                                {{/if}}
                                                  <div class="container-fluid">
                                                      <div class="row">
                                                          <div class="col-xs-12 txtMd">
                                                              <a href="#">
                                                                  <i class="fa greyText fa-camera fa-3x btn-file">
                                                                      <input type="file">
                                                                  </i>
                                                              </a>
                                                          </div>
                                                      </div>
                                                  </div>

                                                  <div id="addDotImage-list">
                                                    {{> uploader}}
                                                  </div>


                                              </div>
                                          </div>
                                      </div>
                                  </div>



                                  <div class="openList container-fluid">

                                      <div class="col-xs-12 col-sm-3">
                                          <p>
                                              <strong>Open List:</strong>
                                          </p>
                                      </div>

                                      <div class="col-xs-12 col-sm-9">
                                        {{> afQuickField name="isOpen"}}
                                      </div>



                                  </div>

                              </div>




                              <div>
                                  <div>
                                      <div class="col-xs-12 btns-create-dot-row">

                                          <div class="btns-create-dot">
                                              <button type="submit" id="submitEditDot" class="editDot btn btn-primary">Save changes</button>
                                          </div>

                                      </div>
                                  </div>
                              </div>




                          {{/autoForm}}
                        </div>

                    </div>
                </div>


            </div>
        </div>
    </div>





  {{else}}


    <div class="modal fade" data-keyboard="false">
        <div class="modal-dialog modal-md">
            <div class="modal-content">


                <div id="create-dot-modal" class="container-fluid">

                    <div class="exit-btn">
                        <a href="#"><button class="btn round btn-delete btn-sm" id="exitBtn"><i class="fa fa-times"></i></button></a>
                    </div>

                    <div class="row">


                        <div class="modal-title col-xs-12 colCenter">

                            <div class="row">
                                <h3 class="txtMd">Edit Dot</h3>
                            </div>

                        </div>





                      {{#autoForm id="editDotForm" type="method-update"  schema=editDotSchema doc=selectedDotDoc meteormethod="updateDot"}}

                          <div class="col-xs-10 colCenter">

                              <div>
                                {{> afQuickField id="editTitleField" name='title' label="Title" placeholder="Enter a Title"}}
                                  <div id="titleFieldFeedback"></div>
                              </div>


                              <div>
                                {{> afQuickField name='bodyText' label="Description" rows=4 placeholder="Add a Description"}}
                              </div>

                          </div>

                          <div id="form-body" class="col-xs-10 colCenter">

                              <div>

                                  <!-- Nav tabs -->
                                  <ul class="nav nav-tabs" role="tablist">
                                      <li role="presentation" class= "active createTab">
                                          <a href="#image" aria-controls="image" role="tab" data-toggle="tab"><i class="fa fa-camera"></i><br>Image</a></li>
                                      <li id="mapTab" role="presentation" class="createTab">
                                          <a href="#location" aria-controls="location" role="tab" data-toggle="tab"><i class="fa fa-map-marker"></i><br>Location</a></li>
                                      <li role="presentation" class="createTab">
                                          <a href="#eventDetails" aria-controls="eventDetails" role="tab" data-toggle="tab"><i class="fa fa-calendar"></i><br>Date</a></li>
                                      <li role="presentation" class="createTab hidden-xs">
                                          <a href="#price" aria-controls="price" role="tab" data-toggle="tab"><i class="fa fa-dollar"></i><br>Price</a></li>
                                      <li role="presentation" class="createTab">
                                          <a href="#link" aria-controls="link" role="tab" data-toggle="tab"><i class="fa fa-link"></i><br>Link</a></li>
                                      <li role="presentation" class="createTab hidden-xs">
                                          <a href="#tags" aria-controls="tags" role="tab" data-toggle="tab"><i class="fa fa-tag"></i><br>Tags</a></li>
                                  </ul>

                                  <!-- Tab panes -->
                                  <div class="tab-content">

                                      <div role="tabpanel" class="tab-pane tab-height" id="location">

                                        {{#if mapTabActive}}
                                          {{> createDotMap}}
                                        {{/if}}

                                      </div>


                                      <div role="tabpanel" class="tab-pane tab-height" id="eventDetails">

                                          <div class="eventDetails-div optional-field in-tab-wrapper">

                                              <div type="bootstrap-datetimepicker" class="eventDetails row">
                                                  <div class="col-xs-6">{{> afQuickField name='startDateAndHour' placeholder="Pick Start Date"}}</div>
                                                  <div class="col-xs-6">{{> afQuickField name='endDateAndHour' placeholder="Pick End Date"}}</div>
                                              </div>

                                              <!--<div class="onoffswitch">-->
                                              <!--<input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" data-toggle="collapse" href="#repeated">-->
                                              <!--<label class="onoffswitch-label" for="myonoffswitch"></label>-->
                                              <!--</div>-->


                                              <button id="repeated-btn" class="btn btn-default btn-sm round" href="#repeated" data-toggle="collapse">Repeated ?</button>

                                              <div id="repeated" class="collapse">
                                                  <div type="bootstrap-datetimepicker" class="eventDetails row">
                                                      <div class="col-xs-6">{{> afQuickField name='repeated' firstOption='None'}}</div>
                                                      <div class="col-xs-6">{{> afQuickField name='endRepeatedDate' placeholder="Pick Repeated End Date"}}</div>
                                                  </div>
                                              </div>


                                          </div>

                                      </div>

                                      <div role="tabpanel" class="tab-pane active" id="image">
                                          <div class="image optional-field">

                                            {{#if isImageUrl}}
                                                <div class="file container-fluid">
                                                    <div class="row">
                                                        <div class="dot-img-create-dot colCenter" style="background-image: url('{{imagePreviewUrl}}')"></div>
                                                    </div>
                                                </div>
                                            {{/if}}

                                              <div class="container-fluid">
                                                  <div class="row">
                                                      <div class="col-xs-12 txtMd">
                                                          <i class="fa greyText fa-camera fa-3x btn-file">
                                                              <input type="file">
                                                          </i>
                                                      </div>
                                                  </div>
                                              </div>

                                              <div id="editDotImage">
                                                {{> uploader}}
                                              </div>

                                          </div>
                                      </div>

                                      <div role="tabpanel" class="tab-pane tab-height" id="link">
                                          <div class="link optional-field in-tab-wrapper">
                                            {{> afQuickField name='linkUrl' label="Link" placeholder="Ex: http://www.website.com"}}
                                          </div>
                                      </div>

                                      <div role="tabpanel" class="tab-pane tab-height" id="tags">
                                          <div class="tags optional-field in-tab-wrapper">
                                            {{> afQuickField name='tags' label="Just tag it if you'd like.." placeholder="Night-Life, Sports, Vacation ..."}}
                                          </div>
                                      </div>

                                      <div role="tabpanel" class="tab-pane tab-height" id="price">
                                          <div class="price optional-field in-tab-wrapper">
                                            {{> afQuickField name='price' label="Price" placeholder="Price in US Dollars ..."}}
                                          </div>
                                      </div>

                                  </div>
                              </div>

                          </div>

                          <div>
                              <div>
                                  <div class="col-xs-12 btns-create-dot-row">

                                      <div class="btns-create-dot">
                                          <button type="submit" id="submitEditDot" class="editDot btn btn-primary">Save changes</button>
                                      </div>

                                  </div>
                              </div>
                          </div>




                      {{/autoForm}}


                    </div>
                </div>




            </div>
        </div>
    </div>
{{/if}}

</template>

