{"version":3,"sources":["no-extra-bind.js"],"names":[],"mappings":";;;;;;AAMA,YAAY,CAAC;;;;;;AAMb,MAAM,CAAC,OAAO,GAAG,UAAS,OAAO,EAAE;;AAE/B,QAAI,KAAK,GAAG,CAAC;AACT,aAAK,EAAE,CAAC,CAAC;AACT,aAAK,EAAE,CAAC;KACX,CAAC,CAAC;;;;;;AAMH,aAAS,WAAW,GAAG;AACnB,eAAO,KAAK,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;KAClC;;;;;;AAMD,aAAS,mBAAmB,GAAG;AAC3B,YAAI,GAAG,GAAG,WAAW,EAAE,CAAC;AACxB,WAAG,CAAC,KAAK,EAAE,CAAC;KACf;;;;;;AAMD,aAAS,mBAAmB,GAAG;AAC3B,YAAI,GAAG,GAAG,WAAW,EAAE,CAAC;AACxB,WAAG,CAAC,KAAK,EAAE,CAAC;KACf;;AAED,WAAO;AACH,wBAAgB,EAAE,wBAAS,IAAI,EAAE;AAC7B,gBAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,CAAC,IAC3B,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,kBAAkB,IACvC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,KAAK,MAAM,IACpC,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;AACrD,qBAAK,CAAC,IAAI,CAAC;AACP,wBAAI,EAAE,IAAI;AACV,yBAAK,EAAE,CAAC,CAAC;AACT,yBAAK,EAAE,CAAC;iBACX,CAAC,CAAC;aACN;SACJ;AACD,6BAAqB,EAAE,4BAAS,IAAI,EAAE;AAClC,gBAAI,GAAG,GAAG,WAAW,EAAE;gBACnB,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,KAAK,kBAAkB,IAAI,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,KAAK,yBAAyB,CAAC;;AAEvH,gBAAI,GAAG,CAAC,IAAI,KAAK,IAAI,KAAK,GAAG,CAAC,KAAK,KAAK,CAAC,IAAI,eAAe,CAAA,AAAC,EAAE;AAC3D,uBAAO,CAAC,MAAM,CAAC,IAAI,EAAE,sCAAsC,CAAC,CAAC;AAC7D,qBAAK,CAAC,GAAG,EAAE,CAAC;aACf;SACJ;AACD,iCAAyB,EAAE,mBAAmB;AAC9C,sCAA8B,EAAE,mBAAmB;AACnD,4BAAoB,EAAE,mBAAmB;AACzC,iCAAyB,EAAE,mBAAmB;AAC9C,6BAAqB,EAAE,mBAAmB;AAC1C,kCAA0B,EAAE,mBAAmB;AAC/C,wBAAgB,EAAE,0BAAW;AACzB,gBAAI,GAAG,GAAG,WAAW,EAAE,CAAC;AACxB,gBAAI,GAAG,CAAC,KAAK,KAAK,CAAC,EAAE;AACjB,mBAAG,CAAC,KAAK,EAAE,CAAC;aACf;SACJ;KACJ,CAAC;CAEL,CAAC;;AAEF,MAAM,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE,CAAC","file":"no-extra-bind-compiled.js","sourcesContent":["/**\n * @fileoverview Rule to flag unnecessary bind calls\n * @author Bence Dányi <bence@danyi.me>\n * @copyright 2014 Bence Dányi. All rights reserved.\n * See LICENSE in root directory for full license.\n */\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = function(context) {\n\n    var scope = [{\n        depth: -1,\n        found: 0\n    }];\n\n    /**\n     * Get the topmost scope\n     * @returns {Object} The topmost scope\n     */\n    function getTopScope() {\n        return scope[scope.length - 1];\n    }\n\n    /**\n     * Increment the depth of the top scope\n     * @returns {void}\n     */\n    function incrementScopeDepth() {\n        var top = getTopScope();\n        top.depth++;\n    }\n\n    /**\n     * Decrement the depth of the top scope\n     * @returns {void}\n     */\n    function decrementScopeDepth() {\n        var top = getTopScope();\n        top.depth--;\n    }\n\n    return {\n        \"CallExpression\": function(node) {\n            if (node.arguments.length === 1 &&\n                node.callee.type === \"MemberExpression\" &&\n                node.callee.property.name === \"bind\" &&\n                /FunctionExpression$/.test(node.callee.object.type)) {\n                scope.push({\n                    call: node,\n                    depth: -1,\n                    found: 0\n                });\n            }\n        },\n        \"CallExpression:exit\": function(node) {\n            var top = getTopScope(),\n                isArrowFunction = node.callee.type === \"MemberExpression\" && node.callee.object.type === \"ArrowFunctionExpression\";\n\n            if (top.call === node && (top.found === 0 || isArrowFunction)) {\n                context.report(node, \"The function binding is unnecessary.\");\n                scope.pop();\n            }\n        },\n        \"ArrowFunctionExpression\": incrementScopeDepth,\n        \"ArrowFunctionExpression:exit\": decrementScopeDepth,\n        \"FunctionExpression\": incrementScopeDepth,\n        \"FunctionExpression:exit\": decrementScopeDepth,\n        \"FunctionDeclaration\": incrementScopeDepth,\n        \"FunctionDeclaration:exit\": decrementScopeDepth,\n        \"ThisExpression\": function() {\n            var top = getTopScope();\n            if (top.depth === 0) {\n                top.found++;\n            }\n        }\n    };\n\n};\n\nmodule.exports.schema = [];\n"]}